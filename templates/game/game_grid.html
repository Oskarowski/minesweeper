{{ define "game_grid" }}
    <div
        id="game-grid"
        class="grid gap-1 {{ if .GameFailed }}
            pointer-events-none opacity-80 border-[6px] border-double
            border-red-800
        {{ else if .GameWon }}
            pointer-events-none opacity-80 border-[6px] border-double
            border-green-500
        {{ end }}"
    >
        {{ range $rowIndex , $row := .Grid }}
            {{ range $colIndex, $cell := $row }}
                <div
                    id="cell-{{ $rowIndex }}-{{ $colIndex }}"
                    class="flex items-center justify-center text-center border border-gray-400 mine-field aspect-square 
                    {{ if or $cell.IsRevealed (or $.GameWon $.GameFailed) }}
                        cell-revealed
                    {{ end }}
                    {{ if and $cell.IsFlagged (not $cell.IsRevealed) }}
                        cell-flagged
                    {{ end }}"
                >
                    {{ if or $cell.IsRevealed $.GameFailed $.GameWon }}
                        {{ if $cell.HasMine }}
                            ðŸ’£
                        {{ else if gt $cell.AdjacentMines 0 }}
                            {{ $cell.AdjacentMines }}
                        {{ end }}
                    {{ else if $cell.IsFlagged }}
                        ðŸš©
                    {{ end }}
                </div>
            {{ end }}
        {{ end }}
    </div>
{{ end }}
